<!DOCTYPE html>
<html>
<head>
	<title>demo</title>
</head>
<body>
<script src="../lib/jquery-1.11.1.js"></script>
<script src="../jquery.areaSelect.js"></script>
</body>

<img src="saber.jpg" width="804" height="604">
<button id="get">Get!</button>

<div id="preview" style="display: inline-block"></div>

<script>


	(function () {
		$('img').load(function () {
			var options = {
				initAreas: [
					{"x": 280, "y": 93, "width": 50, "height": 50},
					{"x": 309, "y": 195, "width": 183, "height": 386},
					{"x": 298, "y": 5, "width": 45, "height": 55}]
			};
			$(this).areaSelect(options);
			showPreview($('img').areaSelect('get'));
			$('img').areaSelect('bindChangeEvent', function (event, data) {
				showPreview(data.areas);
			});

			$('#get').click(function () {
				alert(JSON.stringify($('img').areaSelect('get')));
			});
		});

		function showPreview(areas) {
			var $preview = $('#preview');
			$preview.empty();
			for (var index in areas) {
				var area = areas[index];
				var $img = $('<div/>').css({
					'height': area.height,
					'display': 'inline-block',
					'width': area.width,
					'margin': '10px',
					'background-image': 'url("saber.jpg")',
					'background-position': -area.x + 'px ' + (-area.y + 'px')
				});
				$preview.append($img);
			}
		}

	})();
</script>
<a href="https://github.com/gongshw/jquery.areaSelect.js/"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/e7bbb0521b397edbd5fe43e7f760759336b5e05f/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677265656e5f3030373230302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png"></a>
</html>
